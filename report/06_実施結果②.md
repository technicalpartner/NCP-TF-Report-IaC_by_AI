# 6. 実施結果 ケース② AWSの設計技術がある場合

ケース②は作業者がAWSの設計技術はあるが、Terraformのコーディングは未経験、または一部不安がある場合を想定する。  
作業者はAWSのシステム構成と、AWS上に作成するリソースの設定を記載した設計書を作成し、生成AIにTerraformのコードを生成させる。

#### 作業者の作成する設計書

- (1) システム構成図  
      AWSのシステム構成図。
- (2) 基本設計書  
      システム構成図に記載したリソースの説明を記載する。システム内の役割やシステム構成図から読み取ることが困難な設定を記載する。
- (3) 詳細設計書  
      AWSリソースの詳細な設定を記載する。基本設計では記載していないパラメータなどを明示する。
- (4) Terraform設計書  
      Terraformコードのディレクトリ構造などコーディングのルールを指定する。

#### 想定手順

- (1) AWS環境の設計書を作成する。
- (2) 生成AIにTerraformのコードを生成させる。
- (3) 生成されたTerraformコードを実行してAWSの環境を作成する。コードの実行でエラーが発生した場合は手順(1)の設計書を修正する。  
- (4) 作業者がAWS上に作成された環境を確認する。意図した環境が作成されない場合は手順(1)の設計書を修正して生成AIによるTerraformコードの生成を再実施する。
- (5) 作業者によるAWS環境のチェックに合格するまで手順(2)から手順(4)を繰り返す。


## 6.2. 作業内容と作業時間

#### (1) 設計書の記載内容、形式

#### 作業者の作業内容と所要時間

|作業内容|作業時間|
|------|------|
|AWS設計   |12時間|
|Terraformコーディングルール| 2時間|

#### 生成AIの作業内容と所要時間

|作業内容|作業時間|
|------|------|
|設計書レビュー|0.5時間|
|コード生成|0.5時間|
|コードレビュー|0.5時間|

## 6.3. 方式の良い点

(1) 設計書を全てテキストで記載するため以下のメリットがある。
- 変更箇所が把握しやすい。
- 設計書を作成するときに生成AIの支援が受けられる。設計書を全て作業者が作成する場合と比べて作業時間が短縮できる。

(2) 設計書の記載内容はシステム構成に必須で求める設定のみになる。システム構成の特徴が理解しやすい。


## 6.4. 課題

###### (1) 生成するAWSリソースの設定値が安定しない。

AWSリソースの設定を設計書で明示的に指定していない場合は生成AIの解釈により設定内容を決定する。

###### 対策

- **(対策①)：**
  - 詳細設計書でAWSリソースの設定値を全て明示する。　　
- **(対策②)：** 
  - 標準構成の設計書を作成する。標準的構成の設計書にはAWSリソースの設定値を全て明示的に設定する。　　  
  - 作業者は標準構成との差分を記載した設計書を作成する。

###### (2) 生成するTerraformコードが安定しない。

Terraform設計書で明示的に指定していない箇所のコーディングについては生成AIが独自に解釈して行う。

###### 対策

生成AIがコード生成を行うときに使用するTerraformコーディング標準の文書を作成する。

プロジェクト毎のTerraform設計書にはTerraformコーディング標準に記載されていないプロジェクト独自のルールを記載する。

###### 注記

コーディング標準などは生成AIの基盤モデルにより異なる解釈をするために、生成するTerraformコードが安定しない減少が発生する。

コーディング標準などの文書は、基盤モデルを変更する度に出力が安定するように調整すること。

## 6.5 総括

ケース②では作成するAWSリソースを指示する方法を検討した。  
明示的に指定したAWSリソースの設定は忠実に再現されたため、システムは問題なく動作させることができた。
課題として、明示的に指定した設定以外の出力が安定しなくなる。出力を安定させるために標準化の文書を作成させる必要があると感じた。
標準化文書の作成や、生成AIの基盤モデルの性能向上により生成されるコードが安定するか、引き続き検討課題とする。
