## 1.1. 背景

本検証の出発点は、Terraformモジュール設計の表現方法の模索にある。

従来はExcelのオブジェクト図を用いて設計書を作成していたが、オブジェクトの配置や見やすさの調整など、設計本来の目的以外の作業に多くの手間がかかっていた。この課題を解消するため、自動描画が可能な記法の導入を検討し、以下のツールや記法を試行した。

**試行ツール**
  - Mermaid
  - UML

**試行記法**
  - クラス図
  - シーケンス図
  - ER図
  - オブジェクト図
  - 状態遷移図

しかし、Terraformモジュールの構造や特性を的確に表現できる記法は見つからず、最終的にExcelへ回帰することとなった。その後、コーディングに必要な情報を過不足なく盛り込むことを重視し、Terraform設計書の内容を精緻化した結果、本ケースにおけるTerraformモジュール設計書の原型が完成した。

**設計書仕様**
- フォーマット：Excelオブジェクト図
- 目的：コーディング時の認識齟齬を極力排除すること
- 主な特徴：
  - AWSリソースの仕様を詳細に定義
  - AWSリソース間の相関関係を線で明示
  - 密結合が必要なリソースは1つのモジュールに集約
  - モジュール間は疎結合とする

この設計書の完成をきっかけに、「この設計書なら生成AIが意図通りのコードを生成できるのではないか」と考え、設計書のスクリーンショットを生成AIに入力してコーディングを指示したところ、期待通りのコードが生成された。これを契機に、生成AIによる本格的なコーディング検証を開始するに至った。

## 1.2. レポートの主題

上記のような背景を踏まえ、本レポートでは実際に行った検証の内容と、そこから得られた知見・考察を整理し報告する。

## 1.3. 検証内容

本検証では、生成AIによるIaCコーディングの有効性を段階的に評価するため、設計者のスキルレベルが異なる3つのケースを想定して検証を実施した。

- ケース①：AWSの設計技術とTerraformコーディング技術の両方がある場合
- ケース②：AWSの設計技術のみある場合
- ケース③：AWSの基礎知識のみある場合

### 1.3.1. ケース①の概要と評価

最初に実施したのは、AWS設計・Terraformコーディングの両スキルを持つ作業者によるケース。  
このケースでは、Excelで作成したTerraformモジュール設計書を中心に、AWSシステム構成図・基本設計書・デザインルールを含む4要素の設計書を作成し、生成AIにコーディングを指示した。

**主な特徴・メリット**
- 設計書の粒度が細かく、設計者の意図を正確に反映したコードが高い再現性で生成できる
- モジュール設計が厳密で、可読性・保守性にも優れる

**主な課題・デメリット**
- 設計書作成に高度な技術と多くの時間が必要
- 独自記法の設計書となるため、汎用性が低い
- 設計工程が肥大化し、AIによるコーディング時間短縮のメリットが相殺される

**まとめ**
このケースは、生成AIによるIaCコーディングの品質・再現性・可読性の面で非常に高い効果が得られる一方、設計書作成の負担が大きく、実用面では効率化の観点から最適とは言い難い。また、Terraformに関する高度な知識が求められるため、そもそも十分なスキルを持つ設計者を確保すること自体が難しいという課題もある。

### 1.3.2. ケース②の概要と評価

ケース①の最大の課題である「Terraform技術習得の負担」と「設計工程の長期化」を解消するため、Terraformモジュール設計を省略したアプローチを検証した。  
このケースでは、AWS構成図（画像）とAWS詳細設計書（テキストベース）のみをソースとして、Terraformコーディングを生成AIに全面的に委ねる方法を試行した。

**主な特徴・メリット**
- Terraform設計書の作成が不要で、設計工程が大幅に短縮される
- AWS設計技術のみでコーディングが可能となり、人材確保の障壁が低下する
- 同一AIモデル・同一バージョンを使用した場合、一定の再現性を保持できる

**主な課題・デメリット**
- 生成されるコードの可読性・保守性にバラつきが生じやすい
- AIモデルのバージョン違いにより、コードの一貫性が著しく低下する
- モジュール設計の品質がAI任せとなり、設計者の制御が困難

**まとめ**
このケースは、ケース①の主要課題である「設計の長期化」と「Terraform技術の習得負担」について一定の改善効果が認められた。特に、同一のAI基盤モデル・同一バージョンを継続使用した場合、ケース①と比較して精度は若干劣るものの、繰り返しコーディングにおいて類似性の高いコードが生成される傾向が確認できた。

しかし、AIモデルのバージョンが異なる場合には、生成コードの類似性が著しく低下し、保守性・可読性の観点に課題がある。この結果を踏まえると、本手法は開発効率の向上には寄与するものの、長期的な運用・保守を考慮した場合、AIモデルのサポート終了に大きな影響を受ける可能性がある。

